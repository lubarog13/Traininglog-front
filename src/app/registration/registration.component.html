<div class="container main-div imaged"
    fxLayout="column" *ngIf="!errMess">
    <mat-card [@expand]>
        <mat-card-header align="center">
            <mat-card-title style="font-size: 24px;">Регистрация</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form fxFlex novalidate [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                <p>
                    <mat-form-field class="half-width" appearance="outline">
                        <mat-label>Имя</mat-label>
                      <input matInput formControlName="first_name"  type="text" required>
                      <mat-error *ngIf="formErrors.first_name">{{formErrors.first_name}}</mat-error>
                    </mat-form-field>
                    <mat-form-field class="half-width" appearance="outline">
                        <mat-label>Фамилия</mat-label>
                      <input matInput formControlName="last_name" type="text" required>
                      <mat-error *ngIf="formErrors.last_name">{{formErrors.last_name}}</mat-error>
                    </mat-form-field>
                  </p>
                  <p>
                    <mat-form-field class="half-width" appearance="outline">
                        <mat-label>Отчество</mat-label>
                      <input matInput formControlName="second_name" placeholder="Отчество" type="text">
                      <mat-error *ngIf="formErrors.second_name">{{formErrors.second_name}}</mat-error>
                    </mat-form-field>
                    <mat-form-field class="half-width" appearance="outline">
                        <mat-label>Email</mat-label>
                      <input matInput formControlName="email"  type="text" required>
                      <mat-error *ngIf="formErrors.email">{{formErrors.email}}</mat-error>
                    </mat-form-field>
                  </p>
                  <p>
                      <mat-form-field class="half-width" appearance="outline">
                        <mat-label>Дата рождения</mat-label>
                        <input matInput [matDatepicker]="picker"  [max]="maxDate" formControlName="date_birth">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="formErrors.date_birth">{{formErrors.date_birth}}</mat-error>
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="half-width">
                        <mat-label>Пол</mat-label>
                        <mat-select formControlName="sex" required="true">
                          <mat-option value="М">Мужской</mat-option>
                          <mat-option value="Ж">Женский</mat-option>
                        </mat-select>
                      </mat-form-field>
                  </p>
                  <p>
                      <mat-form-field class="half-width" appearance="outline">
                          <mat-label>Логин</mat-label>
                          <input matInput formControlName="username"  type="text" required>
                      <mat-error *ngIf="formErrors.username">{{formErrors.username}}</mat-error>
                      </mat-form-field>
                      <mat-form-field class="half-width" appearance="outline"><mat-label>Пароль</mat-label>
                        <input matInput formControlName="password" [type]="hide ? 'password' : 'text'" required><button mat-icon-button type="button" matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                      </button>
                      <mat-error *ngIf="formErrors.password">{{formErrors.password}}</mat-error>
                    </mat-form-field>
                  </p>
                  <div fxLayout="row">
                      <div fxLayout="column" class="half-width" style="display: inline-block;">
                        <img mat-card-xl-image src="https://st.depositphotos.com/1386392/1349/v/450/depositphotos_13490275-stock-illustration-basketball-player-vector-illustration.jpg">
                      </div>
                      <div fxLayout="column" class="half-width">
                      <mat-form-field style="width: 100%;" appearance="outline"><mat-label>Повторите пароль</mat-label>
                        <input matInput formControlName="re_password" [type]="hide ? 'password' : 'text'" required><button mat-icon-button type="button" matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                      </button>
                      <mat-error *ngIf="formErrors.re_password">{{formErrors.re_password}}</mat-error>
                    </mat-form-field>
                    <p *ngIf="errMsg" style="color: red;">{{errMsg}}</p>
                    <span style="width: 100%;">
                        <button class="submit-button" style="font-size: 13px;" mat-button type="submit" [disabled]="registrationForm.invalid">Зарегестрироваться</button><a style="margin-left: 20px;" routerLink="/auth">Вход</a>
                    </span>
                      </div>
                </div>
                </form>
        </mat-card-content>
    </mat-card>
</div>
<app-error-component *ngIf="errMess" [err]="errMess"></app-error-component>
